<div class="index-new-box">
  <div class="index-flash"><%= flash[:notice] %></div>

  <h1>Books</h1>

  <table class="index-table">
    <cogroup>
      <col class="index-thead-title">
      <col class="index-thead-body">
      <col class="index-tbody-link-s">
      <col class="index-tbody-link-e">
      <col class="index-tbody-link-d">
    </cogroup>
    <thead>
      <tr>
        <th class="index-thead-title index-thead-th">Title</th>
        <th class="index-thead-body index-thead-th">Body</th>
        <th class="index-thead-link index-thead-th" colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @books.each do |book| %>
        <tr class="index-tbody-tr">
          <td class="index-tbody-title index-tbody-td"><%= book.title %></td>
          <td class="index-tbody-body index-tbody-td"><%= book.body %></td>
          <td class="index-tbody-td"><%= link_to 'Show', book_path(book.id),class:"link" %></td>
          <td class="index-tbody-td"><%= link_to 'Edit', edit_book_path(book.id),class:"link" %></td>
          <td class="index-tbody-td"><%= link_to 'Destroy', book_path(book.id),class:"link", method: :delete, "data-confirm"=>"Are you sure?" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <div class="new-box">
    <h2>New book</h2>

    <% if @book.errors.any? %>
      <div class="error-box">
        <div class="error-title">
          <%= @book.errors.count %>errors prohibited this book from being saved:
        </div>
        <ul class="error-comment">
          <% @book.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with model: @book do |f| %>

      <div class="new-title-box">
        <p>Title</p>
        <%= f.text_field :title %>
      </div>

      <div class="new-body-box">
        <p>Body</p>
        <%= f.text_area :body %>
      </div>

      <div class="new-input-box">
        <%= f.submit 'Create Book',class:"new-input" %>
      </div>

    <% end %>
  </div>
</div>